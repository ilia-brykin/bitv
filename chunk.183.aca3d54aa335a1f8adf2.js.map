{"version":3,"file":"chunk.183.aca3d54aa335a1f8adf2.js","mappings":"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","sources":["webpack://bitv/./src/components/StepTags/StepTags.pug","webpack://bitv/./src/components/StepTags/StepTagsItem/StepTagsItem.pug","webpack://bitv/./src/components/StepTags/StepTagsItem/StepTagsItem.js","webpack://bitv/./src/components/StepTags/StepTagsItem/compositionAPI/ActiveAPI.js","webpack://bitv/./src/components/StepTags/StepTagsItem/compositionAPI/ClassAPI.js","webpack://bitv/./src/components/StepTags/StepTagsItem/compositionAPI/TypeAPI.js","webpack://bitv/./src/components/StepTags/StepTagsItem/compositionAPI/EventAPI.js","webpack://bitv/./src/components/StepTags/StepTagsItem/compositionAPI/TextAPI.js","webpack://bitv/./src/components/StepTags/StepTagsItem/StepTagsItem.vue","webpack://bitv/./src/components/StepTags/StepTags.js","webpack://bitv/./src/components/StepTags/StepTags.vue","webpack://bitv/./src/global/consts/tags.js","webpack://bitv/./src/views/PageFindSteps/compositionAPI/FiltersAPI.js"],"sourcesContent":["<ul class=\"a_list_inline a_list_tags a_mb_0\" v-if=\"tags.length\"><step-tags-item v-for=\"tag in tags\" :key=\"tag\" :tag=\"tag\" :is-button=\"isButton\"></step-tags-item></ul>","<li class=\"a_list_inline_item\"><a-element class=\"a_pill_rounded\" :type=\"typeTag\" :class=\"classTagLocal\" :text=\"tagText\" :title=\"tagTextDescription\" :text-screen-reader=\"tagTextDescription\" :text-aria-hidden=\"true\" :is-switch=\"isButton\" :model-switch=\"isBtnActive\" v-on=\"eventsLocal\"></a-element></li>","import AElement from \"aloha-vue/src/AElement/AElement\";\n\nimport ActiveAPI from \"./compositionAPI/ActiveAPI\";\nimport ClassAPI from \"./compositionAPI/ClassAPI\";\nimport EventAPI from \"./compositionAPI/EventAPI\";\nimport FiltersAPI from \"../../../views/PageFindSteps/compositionAPI/FiltersAPI\";\nimport TextAPI from \"./compositionAPI/TextAPI\";\nimport TypeAPI from \"./compositionAPI/TypeAPI\";\n\nexport default {\n  name: \"StepTagsItem\",\n  components: {\n    AElement,\n  },\n  props: {\n    isButton: {\n      type: Boolean,\n      required: true,\n    },\n    tag: {\n      type: String,\n      required: true,\n    },\n  },\n  setup(props) {\n    const {\n      appliedModel,\n      toggleTagInModelTags,\n    } = FiltersAPI();\n\n    const {\n      isBtnActive,\n    } = ActiveAPI(props, {\n      appliedModel,\n    });\n\n    const {\n      classTagLocal,\n    } = ClassAPI(props);\n\n    const {\n      typeTag,\n    } = TypeAPI(props);\n\n    const {\n      eventsLocal,\n    } = EventAPI(props, {\n      toggleTagInModelTags,\n    });\n\n    const {\n      tagText,\n      tagTextDescription,\n    } = TextAPI(props);\n\n    return {\n      classTagLocal,\n      eventsLocal,\n      isBtnActive,\n      tagText,\n      tagTextDescription,\n      typeTag,\n    };\n  },\n};\n","import {\n  computed,\n  ref,\n  toRef,\n} from \"vue\";\n\nexport default function ActiveAPI(props, {\n  appliedModel = ref({}),\n}) {\n  const isButton = toRef(props, \"isButton\");\n  const tag = toRef(props, \"tag\");\n\n  const isBtnActive = computed(() => {\n    if (!isButton.value) {\n      return false;\n    }\n\n    return appliedModel.value?.tagPresence.indexOf(tag.value) !== -1;\n  });\n\n  return {\n    isBtnActive,\n  };\n}\n","import {\n  computed,\n  toRef,\n} from \"vue\";\n\nexport default function ClassAPI(props) {\n  const isButton = toRef(props, \"isButton\");\n\n  const classTagLocal = computed(() => {\n    return isButton.value ? \"a_btn_small\" : \"a_border a_px_2 a_py_1 a_d_inline_block a_fs_7\";\n  });\n\n  return {\n    classTagLocal,\n  };\n}\n","\nimport {\n  computed,\n  toRef,\n} from \"vue\";\n\nexport default function TypeAPI(props) {\n  const isButton = toRef(props, \"isButton\");\n\n  const typeTag = computed(() => {\n    return isButton.value ?\n      \"button\" :\n      \"text\";\n  });\n\n  return {\n    typeTag,\n  };\n}\n","import {\n  computed,\n  toRef,\n} from \"vue\";\n\nexport default function EventAPI(props, {\n  toggleTagInModelTags = () => {},\n}) {\n  const isButton = toRef(props, \"isButton\");\n  const tag = toRef(props, \"tag\");\n\n  const eventsLocal = computed(() => {\n    if (isButton.value) {\n      return {\n        click: () => toggleTagInModelTags({ tag: tag.value }),\n      };\n    }\n\n    return {};\n  });\n\n  return {\n    eventsLocal,\n  };\n}\n","import {\n  computed,\n  toRef,\n} from \"vue\";\n\nimport {\n  getTranslationKeyTag,\n  getTranslationKeyTagDescription,\n} from \"../../../../global/functions/utils\";\n\nexport default function TextAPI(props) {\n  const tag = toRef(props, \"tag\");\n\n  const tagText = computed(() => {\n    return getTranslationKeyTag({ tag: tag.value });\n  });\n\n  const tagTextDescription = computed(() => {\n    return getTranslationKeyTagDescription({ tag: tag.value });\n  });\n\n  return {\n    tagText,\n    tagTextDescription,\n  };\n}\n","import { render } from \"./StepTagsItem.pug?vue&type=template&id=4365351e&lang=pug&external\"\nimport script from \"./StepTagsItem.js?vue&type=script&lang=js&external\"\nexport * from \"./StepTagsItem.js?vue&type=script&lang=js&external\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import StepTagsItem from \"./StepTagsItem/StepTagsItem.vue\";\n\nexport default {\n  name: \"StepTags\",\n  components: {\n    StepTagsItem,\n  },\n  props: {\n    isButton: {\n      type: Boolean,\n      required: true,\n    },\n    tags: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n  },\n};\n","import { render } from \"./StepTags.pug?vue&type=template&id=b8781512&lang=pug&external\"\nimport script from \"./StepTags.js?vue&type=script&lang=js&external\"\nexport * from \"./StepTags.js?vue&type=script&lang=js&external\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export default [\n  {\n    tag: \"use-component\",\n    group: \"use\",\n  },\n  {\n    tag: \"use-page\",\n    group: \"use\",\n  },\n  {\n    tag: \"use-site\",\n    group: \"use\",\n  },\n  {\n    tag: \"use-specific\",\n    group: \"use\",\n  },\n  {\n    tag: \"main-video\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-audio\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-text\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-link\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-button\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-image\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-form\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-table\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-subtitles\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-focus\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-menu\",\n    group: \"main\",\n  },\n  {\n    tag: \"main-browser\",\n    group: \"main\",\n  },\n  {\n    tag: \"additional-real-time-communication\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-user-interface\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-html-standard\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-html-semantic\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-keyboard\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-screen-reader\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-alternative-text\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-security\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-compatibility\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-speed\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-functionality\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-requirements\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-responsive\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-color\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-documentation\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-support\",\n    group: \"additional\",\n  },\n  {\n    tag: \"additional-expected-behavior\",\n    group: \"additional\",\n  },\n];\n","import {\n  computed,\n  ref,\n} from \"vue\";\nimport {\n  useRoute,\n  useRouter,\n} from \"vue-router\";\n\nimport steps from \"../../../global/consts/steps\";\nimport tags from \"../../../global/consts/tags\";\nimport {\n  getTranslationKeyGroupName,\n  getTranslationKeyTag,\n  getTranslationKeyTagDescription,\n  getTranslationKeyTagGroup,\n} from \"../../../global/functions/utils\";\nimport {\n  getTranslatedText,\n} from \"aloha-vue/src/ATranslation/compositionAPI/UtilsAPI\";\nimport {\n  cloneDeep,\n  difference,\n  filter as _filter,\n  forEach,\n  intersection, keyBy,\n  toLower,\n} from \"lodash-es\";\n\nconst appliedModel = ref({\n  group: [],\n  steps: [],\n  tagPresence: [],\n  tagAbsence: [],\n});\nconst unappliedModel = ref({\n  group: [],\n  steps: [],\n  tagPresence: [],\n  tagAbsence: [],\n});\n\nexport default function FiltersAPI({\n  dataSteps = computed(() => []),\n} = {}) {\n  const $route = useRoute();\n  const $router = useRouter();\n  const filterMain = {\n    type: \"text\",\n    id: \"name\",\n    label: \"_STEP_NAME_\",\n  };\n  const mainModel = ref({\n    name: \"\",\n  });\n  const mainModelApplied = ref({\n    name: \"\",\n  });\n\n  const urlParams = computed(() => {\n    const URL_PARAMS = {};\n\n    forEach(appliedModel.value, (model, key) => {\n      if (model?.length) {\n        URL_PARAMS[key] = model;\n      }\n    });\n\n    if (mainModel.value.name) {\n      URL_PARAMS.name = mainModel.value.name;\n    }\n\n    return URL_PARAMS;\n  });\n\n  const stepsGroups = computed(() => {\n    const GROUPS_KEYS = {};\n    const GROUPS = [];\n    forEach(steps, step => {\n      if (GROUPS_KEYS[step.group]) {\n        return;\n      }\n\n      const GROUP_NAME = getTranslationKeyGroupName({\n        group: step.group,\n      });\n\n      GROUPS.push({ label: getTranslatedText({ placeholder: GROUP_NAME }), value: step.group });\n      GROUPS_KEYS[step.group] = true;\n    });\n\n    return GROUPS;\n  });\n\n  const dataTags = computed(() => {\n    const TAGS = cloneDeep(tags);\n\n    forEach(TAGS, tag => {\n      const TAG_KEY = getTranslationKeyTag({\n        tag: tag.tag,\n      });\n      const TAG_TRANSLATED = getTranslatedText({\n        placeholder: TAG_KEY,\n      });\n      const TAG_KEY_DESCRIPTION = getTranslationKeyTagDescription({\n        tag: tag.tag,\n      });\n      const TAG_DESCRIPTION_TRANSLATED = getTranslatedText({\n        placeholder: TAG_KEY_DESCRIPTION,\n      });\n\n      tag.label = `${ TAG_TRANSLATED } (${ TAG_DESCRIPTION_TRANSLATED })`;\n    });\n\n    return TAGS;\n  });\n\n  const getTranslatedGroup = ({ group }) => {\n    const KEY_GROUP = getTranslationKeyTagGroup({ group });\n\n    return getTranslatedText({\n      placeholder: KEY_GROUP,\n    });\n  };\n\n  const filters = computed(() => {\n    return [\n      {\n        type: \"multiselect\",\n        id: \"group\",\n        label: \"_STEP_GROUP_\",\n        alwaysVisible: true,\n        deselectable: true,\n        search: true,\n        data: stepsGroups.value,\n        keyLabel: \"label\",\n        keyId: \"value\",\n      },\n      {\n        type: \"multiselect\",\n        id: \"tagPresence\",\n        label: \"_TAG_PRESENCE_FILTER_\",\n        alwaysVisible: true,\n        search: true,\n        data: dataTags.value,\n        keyLabel: \"label\",\n        keyId: \"tag\",\n        keyGroup: \"group\",\n        sortOrder: \"asc\",\n        sortOrderGroup: \"desc\",\n        keyGroupCallback: getTranslatedGroup,\n      },\n      {\n        type: \"multiselect\",\n        id: \"tagAbsence\",\n        label: \"_TAG_ABSENCE_FILTER_\",\n        alwaysVisible: true,\n        search: true,\n        data: dataTags.value,\n        keyLabel: \"label\",\n        keyId: \"tag\",\n        keyGroup: \"group\",\n        sortOrder: \"asc\",\n        sortOrderGroup: \"desc\",\n        keyGroupCallback: getTranslatedGroup,\n      },\n      {\n        type: \"multiselect\",\n        id: \"steps\",\n        label: \"_STEPS_\",\n        alwaysVisible: true,\n        deselectable: true,\n        search: true,\n        data: dataSteps.value,\n        keyLabelCallback: ({ item }) => `${ item.step } ${ item.name }`,\n        keyId: \"step\",\n      },\n    ];\n  });\n\n  const stepsGroupsKeyByValue = computed(() => {\n    return keyBy(stepsGroups.value, \"value\");\n  });\n\n  const dataTagsKeyByTag = computed(() => {\n    return keyBy(dataTags.value, \"tag\");\n  });\n\n  const dataStepsKeyByStep = computed(() => {\n    return keyBy(dataSteps.value, \"step\");\n  });\n\n  const filtersDataKeyBy = computed(() => {\n    return {\n      group: stepsGroupsKeyByValue.value,\n      tagPresence: dataTagsKeyByTag.value,\n      tagAbsence: dataTagsKeyByTag.value,\n      steps: dataStepsKeyByStep.value,\n    };\n  });\n\n  const updateQueryParams = () => {\n    $router.push({ query: urlParams.value });\n  };\n\n  const filterQuery = ({ filter, currentQuery }) => {\n    const CURRENT_MAPPING = filtersDataKeyBy.value[filter.id];\n\n    return _filter(currentQuery, value => {\n      return CURRENT_MAPPING[value];\n    });\n  };\n\n  const setModelFromUrl = () => {\n    const QUERY = cloneDeep($route.query);\n    if (QUERY.name) {\n      mainModel.value.name = QUERY.name;\n      mainModelApplied.value.name = QUERY.name;\n      delete QUERY.name;\n    }\n    forEach(filters.value, filter => {\n      if (QUERY[filter.id]?.length) {\n        appliedModel.value[filter.id] = filterQuery({ filter, currentQuery: QUERY[filter.id] });\n      }\n    });\n    unappliedModel.value = cloneDeep(appliedModel.value);\n    updateQueryParams();\n  };\n\n  const updateMainModel = model => {\n    mainModel.value = model;\n  };\n\n  const updateAppliedModel = model => {\n    appliedModel.value = model;\n    mainModelApplied.value.name = mainModel.value.name;\n    updateQueryParams();\n  };\n\n  const updateUnappliedModel = model => {\n    unappliedModel.value = model;\n  };\n\n  const mainModelAppliedLowerCase = computed(() => {\n    return toLower(mainModelApplied.value.name || \"\");\n  });\n\n  const isStepVisible = step => {\n    if (mainModelAppliedLowerCase.value) {\n      if (toLower(`${ step.name }`).indexOf(mainModelAppliedLowerCase.value) === -1) {\n        return false;\n      }\n    }\n    if (appliedModel.value.group?.length) {\n      if (appliedModel.value.group.indexOf(step.groupId) === -1) {\n        return false;\n      }\n    }\n    if (appliedModel.value.steps?.length) {\n      if (appliedModel.value.steps.indexOf(step.step) === -1) {\n        return false;\n      }\n    }\n    if (appliedModel.value.tagPresence?.length) {\n      if (difference(appliedModel.value.tagPresence, step.tags).length !== 0) {\n        return false;\n      }\n    }\n    if (appliedModel.value.tagAbsence?.length) {\n      if (intersection(appliedModel.value.tagAbsence, step.tags).length !== 0) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  const dataStepsFiltered = computed(() => {\n    if (!mainModelAppliedLowerCase.value &&\n      !appliedModel.value.group?.length &&\n      !appliedModel.value.steps?.length &&\n      !appliedModel.value.tagPresence?.length &&\n      !appliedModel.value.tagAbsence?.length) {\n      return dataSteps.value;\n    }\n\n    return _filter(dataSteps.value, step => {\n      return isStepVisible(step);\n    });\n  });\n\n  const toggleTagInModelTags = ({ tag }) => {\n    const INDEX = appliedModel.value.tagPresence.indexOf(tag);\n\n    if (INDEX === -1) {\n      appliedModel.value.tagPresence.push(tag);\n    } else {\n      appliedModel.value.tagPresence.splice(INDEX, 1);\n    }\n    unappliedModel.value.tagPresence = cloneDeep(appliedModel.value.tagPresence);\n  };\n\n  const setModelEmpty = () => {\n    appliedModel.value = {\n      group: [],\n      steps: [],\n      tagPresence: [],\n      tagAbsence: [],\n    };\n    unappliedModel.value = {\n      group: [],\n      steps: [],\n      tagPresence: [],\n      tagAbsence: [],\n    };\n  };\n\n  return {\n    appliedModel,\n    dataStepsFiltered,\n    filterMain,\n    filters,\n    mainModel,\n    mainModelApplied,\n    setModelEmpty,\n    setModelFromUrl,\n    toggleTagInModelTags,\n    unappliedModel,\n    updateAppliedModel,\n    updateMainModel,\n    updateUnappliedModel,\n  };\n}\n"],"names":["class","name","components","AElement","props","isButton","type","Boolean","required","tag","String","setup","appliedModel","toggleTagInModelTags","FiltersAPI","isBtnActive","value","tagPresence","indexOf","ActiveAPI","classTagLocal","ClassAPI","typeTag","TypeAPI","eventsLocal","click","EventAPI","tagText","tagTextDescription","TextAPI","StepTagsItem","text","title","tags","Array","default","key","group","steps","tagAbsence","unappliedModel","dataSteps","$route","$router","mainModel","mainModelApplied","urlParams","URL_PARAMS","forEach","model","length","stepsGroups","GROUPS_KEYS","GROUPS","step","GROUP_NAME","push","label","placeholder","dataTags","TAGS","cloneDeep","TAG_KEY","TAG_TRANSLATED","TAG_KEY_DESCRIPTION","TAG_DESCRIPTION_TRANSLATED","getTranslatedGroup","KEY_GROUP","filters","id","alwaysVisible","deselectable","search","data","keyLabel","keyId","keyGroup","sortOrder","sortOrderGroup","keyGroupCallback","keyLabelCallback","item","stepsGroupsKeyByValue","keyBy","dataTagsKeyByTag","dataStepsKeyByStep","filtersDataKeyBy","updateQueryParams","query","mainModelAppliedLowerCase","toLower","dataStepsFiltered","groupId","difference","intersection","isStepVisible","filterMain","setModelEmpty","setModelFromUrl","QUERY","filter","currentQuery","CURRENT_MAPPING","filterQuery","INDEX","splice","updateAppliedModel","updateMainModel","updateUnappliedModel"],"sourceRoot":""}