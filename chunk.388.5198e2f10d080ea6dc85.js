"use strict";(self.webpackChunkbitv=self.webpackChunkbitv||[]).push([[388],{7694:(e,r,t)=>{t.r(r),t.d(r,{default:()=>A});var s=t(6365);const n={key:0},a={key:0,class:"a_d_block"},u=["innerHTML"],l={class:"a_d_flex a_justify_content_between a_mb_3"},c={key:1};var i=t(3297),o=t(8330),p=t(7197);const h=["ariaExpanded"],b={class:"a_ml_5"};var m=t(2543),d=t(7181),v=t(7985);const S={name:"PageStepRubric",components:{AElement:i.A,ATranslation:p.A},props:{currentStep:{type:Object,required:!0},isRubricOpen:{type:Boolean,required:!0},rubricKey:{type:String,required:!0,validator:e=>-1!==["whatChecked","whyChecked","howChecked","sources","classification","questions","tests"].indexOf(e)},searchFromUrl:{type:String,required:!1,default:""}},setup(e){const r=(0,s.lW)(e,"isRubricOpen"),{headerKey:t}=function(e){const r=(0,s.lW)(e,"rubricKey");return{headerKey:(0,s.EW)((()=>`_${(0,m.toUpper)((0,m.snakeCase)(r.value))}_`))}}(e),{htmlElements:n}=function(e,{headerKey:r=(0,s.EW)((()=>""))}){const t=(0,s.lW)(e,"currentStep"),n=(0,s.lW)(e,"rubricKey"),a=(0,s.EW)((()=>t.value[n.value]));return{htmlElements:(0,s.EW)((()=>{const e=[];return(0,m.times)(a.value,(s=>{const n=s+1;e.push((0,d.kt)({stepKey:t.value.key,rubricKey:r.value,number:n}))})),e}))}}(e,{headerKey:t}),{iconToggleRubric:a,initIsRubricOpenLocal:u,isRubricOpenLocal:l,toggleRubric:c}=function(e){const r=(0,s.lW)(e,"isRubricOpen"),t=(0,s.KR)(!1);return{iconToggleRubric:(0,s.EW)((()=>t.value?"DashCircle":"PlusCircle")),initIsRubricOpenLocal:()=>{t.value=r.value},isRubricOpenLocal:t,toggleRubric:()=>{t.value=!t.value}}}(e),{elementsTranslatedAndHighlighted:i}=function(e,{htmlElements:r=(0,s.EW)((()=>[]))}){const t=(0,s.lW)(e,"isRubricOpen"),n=(0,s.lW)(e,"searchFromUrl"),a=(0,s.EW)((()=>{const e=[];return(0,m.forEach)(r.value,(r=>{e.push({key:r,htmlTranslation:(0,v.a1)({placeholder:r})})})),e}));return{elementsTranslatedAndHighlighted:(0,s.EW)((()=>{if(!t.value||!n.value)return a.value;const e=(0,m.cloneDeep)(a.value);return(0,m.forEach)(e,(e=>{e.htmlTranslation=(0,d.Hb)(e.htmlTranslation,n.value)})),e}))}}(e,{htmlElements:n});return u(),(0,s.wB)(r,(()=>{u()})),{elementsTranslatedAndHighlighted:i,headerKey:t,iconToggleRubric:a,isRubricOpenLocal:l,toggleRubric:c}}};var g=t(6262);const _=(0,g.A)(S,[["render",function(e,r){const t=(0,s.g2)("a-element"),n=(0,s.g2)("a-translation");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("h2",{class:"cursor_pointer a_d_flex a_align_items_center",ariaExpanded:e.isRubricOpenLocal,tabindex:"0",onClick:r[0]||(r[0]=(...r)=>e.toggleRubric&&e.toggleRubric(...r))},[(0,s.bF)(t,{class:"a_mr_2",type:"text","icon-left":e.iconToggleRubric,"icon-class":"a_width_5 a_height_auto",tag:"span"},null,8,["icon-left"]),(0,s.bF)(n,{tag:"span",text:e.headerKey},null,8,["text"])],8,h),(0,s.bo)((0,s.Lk)("div",b,[e.elementsTranslatedAndHighlighted.length?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:0},(0,s.pI)(e.elementsTranslatedAndHighlighted,(e=>((0,s.uX)(),(0,s.Wv)(n,{key:e.key,tag:"div","safe-html":e.htmlTranslation},null,8,["safe-html"])))),128)):(0,s.Q3)("v-if",!0),(0,s.RG)(e.$slots,"default")],512),[[s.aG,e.isRubricOpenLocal]])])}]]);var f=t(9198),y=t(5220);const T={name:"PageStepTestsTable",components:{ATable:f.A},props:{currentStep:{type:Object,required:!0}},setup(e){const{columns:r}=function(){const e=(0,y.lq)();return{columns:(0,s.EW)((()=>[{label:"_LABEL_NAME_",id:"test",keyLabel:"name",to:{name:"PageStepTest",params:{step:e.params.step},paramsDynamic:{test:"test"}}}]))}}(),{rows:t}=function(e){const r=(0,s.lW)(e,"currentStep");return{rows:(0,s.EW)((()=>{const e=[];return(0,m.forEach)(r.value.tests,(t=>{const s=(0,d.DJ)({stepKey:r.value.key,test:t});e.push({test:t,name:(0,v.a1)({placeholder:s})})})),e}))}}(e);return{columns:r,rows:t}}},E=(0,g.A)(T,[["render",function(e,r){const t=(0,s.g2)("a-table");return(0,s.uX)(),(0,s.Wv)(t,{columns:e.columns,data:e.rows,"is-simple-table":!0,"label-tag":"h3",label:"_TABLE_TESTS_","label-class":"a_my_0"},null,8,["columns","data"])}]]);var k=t(8981),W=t(4236),R=t(4841),O=t(6829);const x={name:"PageStep",components:{AElement:i.A,APageTabTitle:o.A,ATranslation:p.A,PageStepRubric:_,PageStepTestsTable:E,StepTags:k.A},setup(){const{initRubricsOpenFromUrl:e,isSearchInTitle:r,rubricsOpen:t,searchFromUrl:n}=function(){const e=(0,y.lq)(),r=(0,y.rd)(),t=(0,s.KR)({}),n=(0,s.KR)(!0),a=(0,s.KR)(""),u=(0,s.KR)(!1),l=(0,s.EW)((()=>e.query.rubrics?(0,m.isString)(e.query.rubrics)?[e.query.rubrics]:e.query.rubrics:[])),c=()=>{(0,m.forEach)(O.A,((e,r)=>{t.value[r]=!(!l.value.length||-1===l.value.indexOf(r))})),a.value=e.query.search||"",u.value=!!e.query.title,n.value=!1,setTimeout((()=>{r.replace({query:{}}),setTimeout((()=>{n.value=!0}))}))};return(0,s.wB)((()=>e.query),(()=>{n.value&&c()}),{deep:!0}),{initRubricsOpenFromUrl:c,isSearchInTitle:u,rubricsOpen:t,searchFromUrl:a}}(),{currentStep:a,hasStep:u,step:l}=function(){const e=(0,y.lq)().params.step,r=(0,s.EW)((()=>W.Ay[e])),t=(0,s.EW)((()=>!!r.value));return{currentStep:r,hasStep:t,step:e}}(),{headerStep:c,headerTextWithSearch:i,pageTitle:o}=function({currentStep:e=(0,s.EW)((()=>({}))),isSearchInTitle:r=(0,s.KR)(!1),searchFromUrl:t=(0,s.KR)(""),step:n=""}){const{filterSearchHighlight:a}=(0,R.A)(),u=(0,s.EW)((()=>{if(n)return(0,v.a1)({placeholder:"_TEXT_STEP_{{step}}_",extra:{step:n}})})),l=(0,s.EW)((()=>{if(e.value?.key)return(0,v.a1)({placeholder:(0,d.UM)({stepKey:e.value.key})})})),c=(0,s.EW)((()=>r.value&&t.value?a(l.value,{searchModel:t.value}):l.value)),i=(0,s.EW)((()=>{let e="";return u.value&&(e=`${u.value} `),e+=l.value,e}));return{headerStep:u,headerTextWithSearch:c,pageTitle:i}}({currentStep:a,isSearchInTitle:r,searchFromUrl:n,step:l}),{hasNextStep:p,hasPreviousStep:h,toNextStep:b,toPreviousStep:S}=function({step:e=""}){const r=(0,s.EW)((()=>W.Gg.indexOf(e))),t=(0,s.EW)((()=>r.value>0)),n=(0,s.EW)((()=>r.value<W.Gg.length-1)),a=(0,s.EW)((()=>({name:"PageStep",params:{step:W.Gg[r.value-1]}})));return{hasNextStep:n,hasPreviousStep:t,toNextStep:(0,s.EW)((()=>({name:"PageStep",params:{step:W.Gg[r.value+1]}}))),toPreviousStep:a}}({step:l});return e(),{currentStep:a,hasNextStep:p,hasPreviousStep:h,hasStep:u,headerStep:c,headerTextWithSearch:i,pageTitle:o,rubricsOpen:t,searchFromUrl:n,toNextStep:b,toPreviousStep:S}}},A=(0,g.A)(x,[["render",function(e,r){const t=(0,s.g2)("a-page-tab-title"),i=(0,s.g2)("a-translation"),o=(0,s.g2)("a-element"),p=(0,s.g2)("step-tags"),h=(0,s.g2)("page-step-rubric"),b=(0,s.g2)("page-step-tests-table");return e.hasStep?((0,s.uX)(),(0,s.CE)("div",n,[(0,s.bF)(t,{title:e.pageTitle},null,8,["title"]),(0,s.Lk)("h1",null,[e.headerStep?((0,s.uX)(),(0,s.CE)("span",a,(0,s.v_)(e.headerStep),1)):(0,s.Q3)("v-if",!0),(0,s.Lk)("span",{innerHTML:e.headerTextWithSearch},null,8,u)]),(0,s.Lk)("div",l,[(0,s.bF)(i,{class:"a_my_0",tag:"h2",text:"_STEP_TAGS_"}),(0,s.Lk)("div",null,[e.hasPreviousStep?((0,s.uX)(),(0,s.Wv)(o,{key:0,class:"a_ml_3 a_btn a_btn_secondary",to:e.toPreviousStep,"icon-left":"CaretLeftFill","text-screen-reader":"_BTN_PREVIOUS_STEP_TITLE_",title:"_BTN_PREVIOUS_STEP_TITLE_",type:"link"},null,8,["to"])):(0,s.Q3)("v-if",!0),e.hasNextStep?((0,s.uX)(),(0,s.Wv)(o,{key:1,class:"a_ml_3 a_btn a_btn_secondary",to:e.toNextStep,"icon-left":"CaretRightFill","text-screen-reader":"_BTN_NEXT_STEP_TITLE_",title:"_BTN_NEXT_STEP_TITLE_",type:"link"},null,8,["to"])):(0,s.Q3)("v-if",!0)])]),(0,s.bF)(p,{"is-button":!1,tags:e.currentStep.tags},null,8,["tags"]),e.currentStep.whatChecked?((0,s.uX)(),(0,s.Wv)(h,{key:0,"current-step":e.currentStep,"is-rubric-open":e.rubricsOpen.whatChecked,"search-from-url":e.searchFromUrl,"rubric-key":"whatChecked"},null,8,["current-step","is-rubric-open","search-from-url"])):(0,s.Q3)("v-if",!0),e.currentStep.whyChecked?((0,s.uX)(),(0,s.Wv)(h,{key:1,"current-step":e.currentStep,"is-rubric-open":e.rubricsOpen.whyChecked,"search-from-url":e.searchFromUrl,"rubric-key":"whyChecked"},null,8,["current-step","is-rubric-open","search-from-url"])):(0,s.Q3)("v-if",!0),e.currentStep.howChecked?((0,s.uX)(),(0,s.Wv)(h,{key:2,"current-step":e.currentStep,"is-rubric-open":e.rubricsOpen.howChecked,"search-from-url":e.searchFromUrl,"rubric-key":"howChecked"},null,8,["current-step","is-rubric-open","search-from-url"])):(0,s.Q3)("v-if",!0),e.currentStep.sources?((0,s.uX)(),(0,s.Wv)(h,{key:3,"current-step":e.currentStep,"is-rubric-open":e.rubricsOpen.sources,"search-from-url":e.searchFromUrl,"rubric-key":"sources"},null,8,["current-step","is-rubric-open","search-from-url"])):(0,s.Q3)("v-if",!0),e.currentStep.classification?((0,s.uX)(),(0,s.Wv)(h,{key:4,"current-step":e.currentStep,"is-rubric-open":e.rubricsOpen.classification,"search-from-url":e.searchFromUrl,"rubric-key":"classification"},null,8,["current-step","is-rubric-open","search-from-url"])):(0,s.Q3)("v-if",!0),e.currentStep.questions?((0,s.uX)(),(0,s.Wv)(h,{key:5,"current-step":e.currentStep,"is-rubric-open":e.rubricsOpen.questions,"search-from-url":e.searchFromUrl,"rubric-key":"questions"},null,8,["current-step","is-rubric-open","search-from-url"])):(0,s.Q3)("v-if",!0),e.currentStep.tests?.length?((0,s.uX)(),(0,s.Wv)(h,{key:6,"current-step":e.currentStep,"is-rubric-open":!!e.rubricsOpen.tests,"search-from-url":e.searchFromUrl,"rubric-key":"tests"},{default:(0,s.k6)((()=>[(0,s.bF)(b,{"current-step":e.currentStep},null,8,["current-step"])])),_:1},8,["current-step","is-rubric-open","search-from-url"])):(0,s.Q3)("v-if",!0)])):((0,s.uX)(),(0,s.CE)("div",c,[(0,s.bF)(i,{tag:"h1",text:"Error"})]))}]])}}]);
//# sourceMappingURL=chunk.388.5198e2f10d080ea6dc85.js.map